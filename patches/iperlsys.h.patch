***************
*** 785,790 ****
  #endif
  #define PerlLIO_mktemp(file)		mktemp((file))
! #define PerlLIO_open(file, flag)	open((file), (flag))
! #define PerlLIO_open3(file, flag, perm)	open((file), (flag), (perm))
  #define PerlLIO_read(fd, buf, count)	read((fd), (buf), (count))
  #define PerlLIO_rename(old, new)	rename((old), (new))
--- 785,803 ----
  #endif
  #define PerlLIO_mktemp(file)		mktemp((file))
! #ifdef __MVS__
!   #if (__CHARSET_LIB == 1)
!     int asciiopen(const char* path, int oflag);
!     int asciiopen3(const char* path, int oflag, int perm);
! 
!     #define PerlLIO_open(file, flag)		asciiopen((file), (flag))
!     #define PerlLIO_open3(file, flag, perm)	asciiopen3((file), (flag), (perm))
!   #else
!     #define PerlLIO_open(file, flag)		open((file), (flag))
!     #define PerlLIO_open3(file, flag, perm)	open((file), (flag), (perm))
!   #endif
! #else
! #  define PerlLIO_open(file, flag)		open((file), (flag))
! #  define PerlLIO_open3(file, flag, perm)	open((file), (flag), (perm))
! #endif
  #define PerlLIO_read(fd, buf, count)	read((fd), (buf), (count))
  #define PerlLIO_rename(old, new)	rename((old), (new))
